"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const dto_1 = require("../dto");
const service_1 = require("../service");
const util_1 = require("../util");
describe('Tatum Init', () => {
    describe('IP auth', () => {
        it('Testnet', async () => {
            const tatum = await service_1.TatumSDK.init({
                network: dto_1.Network.BITCOIN_TESTNET,
            });
            const { result } = await tatum.rpc.getBlockChainInfo();
            expect(result.chain).toBe('test');
            await tatum.destroy();
        });
        it('Mainnet', async () => {
            const tatum = await service_1.TatumSDK.init({
                network: dto_1.Network.BITCOIN,
            });
            const { result } = await tatum.rpc.getBlockChainInfo();
            expect(result.chain).toBe('main');
            await tatum.destroy();
        });
    });
    describe('Multiple Instances', () => {
        it('IP auth', async () => {
            const mainnet = await service_1.TatumSDK.init({
                network: dto_1.Network.BITCOIN,
            });
            const testnet = await service_1.TatumSDK.init({
                network: dto_1.Network.BITCOIN_TESTNET,
            });
            const { result: resultMainnet } = await mainnet.rpc.getBlockChainInfo();
            expect(resultMainnet.chain).toBe('main');
            const { result: resultTestnet } = await testnet.rpc.getBlockChainInfo();
            expect(resultTestnet.chain).toBe('test');
            await testnet.destroy();
            await mainnet.destroy();
        });
    });
});
describe('Network to chainId mapping check', () => {
    const networks = Object.values(dto_1.EVM_BASED_NETWORKS);
    for (const network of networks) {
        it(`${network} should have chainId mapped`, async () => {
            const chainId = util_1.TatumUtils.getChainId(network);
            expect(chainId).toBeGreaterThan(0);
            expect(util_1.TatumUtils.getNetwork(chainId)).toBe(network);
        });
    }
});
//# sourceMappingURL=tatum.spec.js.map